<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ssafy.wpwk.mappers.ContentsMapper">

    <!-- 컨텐츠 삽입 -->
    <insert id = "create" useGeneratedKeys="true" keyProperty="id" parameterType="com.ssafy.wpwk.model.Contents">
        INSERT INTO contents (title, spend_time, created_at, created_by, updated_at, updated_by, user_id)
        VALUES(#{title}, #{spendTime}, #{createdAt}, #{createdBy}, #{updatedAt}, #{updatedBy}, #{userId})
    </insert>

    <!--컨텐츠 전체 조회 -->
    <select id="findAllContents" resultType="com.ssafy.wpwk.model.Contents">
        SELECT * FROM contents
    </select>

    <!-- 컨텐츠 아이디를 이용한 조회 -->
    <select id="findContents" resultType="com.ssafy.wpwk.model.Contents">
        SELECT * FROM contents
        WHERE id = #{id}
    </select>

    <!--데이터 수정 -->
    <update id="update" parameterType="map">
        UPDATE contents SET
                           title = #{contents.title},
                           spend_time = #{contents.spendTime},
                           updated_at = #{contents.updatedAt},
                           updated_by = #{contents.updatedBy}
        WHERE id = #{id}
    </update>

    <!-- 데이터 삭제 -->
    <delete id="delete">
        DELETE FROM contents
        WHERE id = #{id}
    </delete>
</mapper>